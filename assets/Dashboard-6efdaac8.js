import{r as y,k as Y,s as S,n as B,R,j as c,a as F,u as M,e as G,g as z,b as U,$ as J,c as K,d as X,f as Z,S as ee,h as re,i as te,l as oe,m as se,t as V,o as ie,p as ne,q as ae,v as I}from"./index-99e74a03.js";import{t as de,d as le,a as ce}from"./db-8c74e99a.js";const W=(r,o)=>{if(!r)return 0;const s=r.includes("px")?+r.split("px")[0]:r.includes("%")?+r.split("%")[0]*o*.01:r;return Number.isNaN(+s)?0:+s},ue=r=>{if(!r||typeof window>"u")return{width:0,height:0};const o=r.getBoundingClientRect(),{width:s,height:e}=window.getComputedStyle(r);return{width:W(`${s}`,o.width),height:W(`${e}`,o.height)}},fe=r=>{const[o,s]=y.useState({width:0,height:0}),e=()=>{const{width:a,height:h}=ue(r.current);s({width:a,height:h})};return y.useEffect(()=>e(),[r.current]),[o,e]},be=Y({"0%":{backgroundPosition:"200% 0"},to:{backgroundPosition:"-200% 0"}}),he=S("div",{opacity:0,margin:"0 auto",position:"relative",overflow:"hidden",maxWidth:"100%",transition:"transform 250ms ease 0ms, opacity 200ms ease-in 0ms","@motion":{transition:"none"},variants:{ready:{true:{opacity:1},false:{opacity:0}}}}),me=S("img",{size:"100%",display:"block"}),pe=S("div",{position:"absolute",top:0,left:0,right:0,bottom:0,size:"100%",borderRadius:"inherit",backgroundImage:"linear-gradient(270deg, $colors$accents1, $colors$accents2, $colors$accents2, $colors$accents1)",backgroundSize:"400% 100%",animation:`${be} 5s ease-in-out infinite`,transition:"opacity 300ms ease-out"}),_=R.memo(({opacity:r,css:o,className:s,...e})=>c.jsx(pe,{className:F("nextui-image-skeleton",s),css:{opacity:r,...o},...e}));_.toString=()=>".nextui-image-skeleton";const ge=B(_,{opacity:.5,className:""}),L=R.forwardRef((r,o)=>{const{src:s,width:e,height:a,showSkeleton:h=!0,className:p,maxDelay:f=3e3,autoResize:g=!1,objectFit:$="scale-down",containerCss:t,css:u,...d}=r,n=M(o),[x,l]=y.useState(!0),[v,P]=y.useState(h),{w:C,h:i}=y.useMemo(()=>({w:e?typeof e=="number"?`${e}px`:e:"auto",h:a?typeof a=="number"?`${a}px`:a:"auto"}),[e,a]),[w,b,T]=de(i),[k,m]=fe(n),A=h&&!!e&&!!a;y.useEffect(()=>{n.current&&n.current.complete&&(l(!1),P(!1))}),y.useEffect(()=>{const E=setTimeout(()=>{A&&P(!1),clearTimeout(E)},f);return()=>clearTimeout(E)},[x]),y.useEffect(()=>{if(!g)return;const E=k.width===0,N=T.current==="auto";!E&&e&&a&&(k.width<e?!N&&b("auto"):N&&b(i))},[k,e]),G(()=>{g&&m()});const D=y.useMemo(()=>x?"loading":"ready",[x]);return c.jsxs(he,{className:F("nextui-image-container",`nextui-image--${D}`,p),css:{width:C,height:w,...t},"data-state":D,ready:!x||v,children:[v&&c.jsx(ge,{opacity:1}),c.jsx(me,{ref:n,alt:r.alt||"",className:"nextui-image",css:{objectFit:$,...u},"data-state":D,height:a,src:s,width:e,onLoad:()=>{l(!1)},...d})]})});L.toString=()=>".nextui-image";const $e=R.memo(L),xe=S("div",{width:"100%",maxWidth:"100%",position:"relative",variants:{color:{default:{bg:"$border"},primary:{bg:"$primary"},secondary:{bg:"$secondary"},success:{bg:"$success"},warning:{bg:"$warning"},error:{bg:"$error"}}},defaultVariants:{color:"default"}}),we=S("span",{position:"absolute",left:"50%",top:"50%",minHeight:"100%",display:"inline-flex",jc:"center",ai:"center",transform:"translate(-50%, -50%)",padding:"0 $lg",fontSize:"$base",fontWeight:"bold",textTransform:"capitalize",backgroundColor:"$background",zIndex:"$1",variants:{color:{default:{color:"$text"},primary:{color:"$primary"},secondary:{color:"$secondary"},success:{color:"$success"},warning:{color:"$warning"},error:{color:"$error"}}}}),q=({height:r,x:o,y:s,align:e,children:a,textColor:h,css:p,...f})=>{const g=y.useMemo(()=>{if(e&&e!=="center")return e==="left"||e==="start"?{transform:"translateY(-50%)",left:"7%"}:{transform:"translateY(-50%)",left:"auto",right:"7%"}},[e]),$=s?z(s/2):0,t=o?z(o/2):0;return c.jsx(xe,{css:{margin:`${$} ${t}`,height:`calc(${r} * 1px)`,...p},role:"separator",...f,children:a&&c.jsx(we,{className:"nextui-divider-text",color:h,css:{...g},children:a})})};q.toString=()=>".nextui-divider";const ye=R.memo(q),ve=B(ye,{x:0,y:0,height:1,align:"center"}),Se=r=>{const{ref:o,disableAnimation:s=!1,disableRipple:e=!1,variant:a="shadow",isHoverable:h=!1,borderWeight:p="light",isPressable:f=!1,onClick:g,onPress:$,autoFocus:t,allowTextSelectionOnPress:u=!0,...d}=r,n=M(o),{onClick:x,...l}=U(!1,n),v=m=>{s||e||!n.current||x(m)},{isPressed:P,pressProps:C}=J({isDisabled:!f,onPress:m=>{m.pointerType!=="keyboard"&&m.pointerType!=="virtual"||(v(m),g==null||g(m)),$==null||$(m)},allowTextSelectionOnPress:u,...d}),{hoverProps:i,isHovered:w}=K({isDisabled:!h,...d}),{isFocusVisible:b,focusProps:T}=X({autoFocus:t});C.onClick=m=>{f&&(v(m),g==null||g(m))};const k=y.useCallback((m={})=>({...Z(f?{...C,...T}:{},h?i:{},d,m)}),[f,h,C,T,i,d]);return{cardRef:n,variant:a,borderWeight:p,isPressable:f,isHovered:w,isPressed:P,disableAnimation:s,disableRipple:e,dripBindings:l,onDripClickHandler:x,isFocusVisible:b,getCardProps:k}},Pe=S("div",{d:"flex",w:"100%",h:"auto",flex:"1 1 auto",fd:"column",jc:"inherit",ai:"inherit",ac:"inherit",py:"$lg",px:"$sm",oy:"auto",position:"relative",ta:"left"}),Ce=S("div",{$$cardColor:"$colors$backgroundContrast",$$cardTextColor:"$colors$text",m:0,p:0,br:"$lg",bg:"$$cardColor",color:"$$cardTextColor",position:"relative",display:"flex",overflow:"hidden",fd:"column",width:"100%",height:"auto",boxSizing:"border-box","@motion":{transition:"none"},".nextui-image":{width:"100%"},[`& ${ee}`]:{zIndex:"$1",".nextui-drip-filler":{opacity:.25,fill:"$accents6"}},variants:{variant:{flat:{bg:"$accents0"},shadow:{dropShadow:"$lg","@safari":{boxShadow:"$lg",dropShadow:"none"},"@-moz-document url-prefix()":{boxShadow:"$lg",dropShadow:"none"}},bordered:{borderStyle:"solid",borderColor:"$border"}},borderWeight:{light:{bw:"$light"},normal:{bw:"$normal"},bold:{bw:"$bold"},extrabold:{bw:"$extrabold"},black:{bw:"$black"}},disableAnimation:{true:{transition:"none"},false:{transition:"$card"}},isPressable:{true:{cursor:"pointer",us:"none",WebkitTapHighlightColor:"transparent"}},isPressed:{true:{}},isHovered:{true:{dropShadow:"$lg","@safari":{boxShadow:"$lg",dropShadow:"none"},"@-moz-document url-prefix()":{boxShadow:"$lg",dropShadow:"none"}}}},compoundVariants:[{isPressed:!0,disableAnimation:!1,css:{transform:"scale(0.97)"}},{isHovered:!0,disableAnimation:!1,css:{transform:"translateY(-2px)"}},{isHovered:!0,variant:"shadow",css:{dropShadow:"$xl","@safari":{boxShadow:"$xl",dropShadow:"none"},"@-moz-document url-prefix()":{boxShadow:"$xl",dropShadow:"none"}}}]},re,te),je=S("div",{w:"100%",display:"flex",flexShrink:0,zIndex:"$1",jc:"flex-start",ai:"center",overflow:"hidden",color:"inherit",p:"$sm"}),ke=S("div",{w:"100%",h:"auto",p:"$sm",d:"flex",ai:"center",overflow:"hidden",color:"inherit",bblr:"$lg",bbrr:"$lg",variants:{isBlurred:{true:{bf:"saturate(180%) blur(10px)",bg:"$$cardColor"}}}}),Q=R.forwardRef(({...r},o)=>{const{as:s,css:e,children:a,...h}=r,{cardRef:p,variant:f,isFocusVisible:g,isPressable:$,isPressed:t,disableAnimation:u,disableRipple:d,borderWeight:n,isHovered:x,getCardProps:l,dripBindings:v}=Se({...h,ref:o});return c.jsxs(Ce,{ref:p,as:s,borderWeight:n,css:e,disableAnimation:u,isFocusVisible:g,isHovered:x,isPressable:$,isPressed:t,role:$?"button":"region",tabIndex:$?0:-1,variant:f,...l(),children:[$&&!u&&!d&&c.jsx(oe,{...v}),a]})});Q.toString=()=>".nextui-card";const j=Q;j.Header=je,j.Body=Pe,j.Footer=ke,j.Image=$e,j.Divider=ve;function O(r){var e;const o=se();function s(){r.metadata?o(`compare/${r.metadata.id}`):o("compare/new")}return c.jsx(V,{children:c.jsx(j,{onClick:s,isPressable:!0,css:{w:"inherit",h:"inherit",$$cardColor:r.metadata?"$colors$primary":"$colors$secondary"},children:c.jsx(j.Body,{children:c.jsx(V,{css:{display:"flex",w:"$50",h:"$50",maxH:"$100",maxW:"$100",wordWrap:"break-word"},children:c.jsx(ie,{color:"white",h4:!0,children:((e=r.metadata)==null?void 0:e.title)||"New Comparison"})})})})})}var H={exports:{}};const Re=ne(le);(function(r,o){(function(s,e){e(o,Re,y)})(ae,function(s,e,a){function h(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var p=h(a);function f(t,u,d){var n,x;typeof t=="function"?(n=u||[],x=d):(n=[],x=u);var l=p.default.useRef({hasResult:!1,result:x,error:null}),v=p.default.useReducer(function(i){return i+1},0);v[0];var P=v[1],C=p.default.useMemo(function(){var i=typeof t=="function"?t():t;if(!i||typeof i.subscribe!="function")throw t===i?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!l.current.hasResult&&typeof window<"u"&&(typeof i.hasValue!="function"||i.hasValue()))if(typeof i.getValue=="function")l.current.result=i.getValue(),l.current.hasResult=!0;else{var w=i.subscribe(function(b){l.current.result=b,l.current.hasResult=!0});typeof w=="function"?w():w.unsubscribe()}return i},n);if(p.default.useDebugValue(l.current.result),p.default.useEffect(function(){var i=C.subscribe(function(w){var b=l.current;(b.error!==null||b.result!==w)&&(b.error=null,b.result=w,b.hasResult=!0,P())},function(w){var b=l.current;b.error!==w&&(b.error=w,P())});return typeof i=="function"?i:i.unsubscribe.bind(i)},n),l.current.error)throw l.current.error;return l.current.result}function g(t,u,d){return f(function(){return e.liveQuery(t)},u||[],d)}function $(t,u,d){if(!t)throw new TypeError("Invalid arguments to usePermissions(): undefined or null");var n;if(arguments.length>=3){if(!("transaction"in t))throw new TypeError("Invalid arguments to usePermission(db, table, obj): 1st arg must be a Dexie instance");if(typeof u!="string")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 2nd arg must be string");if(!d||typeof d!="object")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 3rd arg must be an object");n=t}else{if(t instanceof e.Dexie)throw new TypeError("Invalid arguments to usePermission(db, table, obj): Missing table and obj arguments.");if(typeof t.table=="function"&&typeof t.db=="object")n=t.db,d=t,u=t.table();else throw new TypeError("Invalid arguments to usePermissions(). Expected usePermissions(entity: DexieCloudEntity) or usePermissions(db: Dexie, table: string, obj: DexieCloudObject)")}if(!("cloud"in n))throw new Error("usePermissions() is only for Dexie Cloud but there's no dexie-cloud-addon active in given db.");if(!("permissions"in n.cloud))throw new Error("usePermissions() requires a newer version of dexie-cloud-addon. Please upgrade it.");return f(function(){return n.cloud.permissions(d,u)},[d.realmId,d.owner,u])}s.useLiveQuery=g,s.useObservable=f,s.usePermissions=$,Object.defineProperty(s,"__esModule",{value:!0})})})(H,H.exports);var Te=H.exports;function Ie(){const r=Te.useLiveQuery(()=>ce.comparisons.toArray());return console.log(r),c.jsxs(I.Container,{gap:1,children:[c.jsx(I,{children:c.jsx(O,{})}),r==null?void 0:r.map(o=>c.jsx(I,{children:c.jsx(O,{metadata:{id:o.id,title:o.data.title}})},o.id||y.useId()))]})}export{Ie as default};

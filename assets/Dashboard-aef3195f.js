import{r as p,k as Y,s as S,n as B,R,j as c,a as F,u as L,$ as G,b as U,c as J,d as K,e as X,f as Z,g as ee,t as N,h as re,i as te,l as oe,m as I}from"./index-c0f7b2df.js";import{t as se,r as ie,S as ne,s as ae,d as de,a as le}from"./db-d4df8909.js";const V=(e,s)=>{if(!e)return 0;const o=e.includes("px")?+e.split("px")[0]:e.includes("%")?+e.split("%")[0]*s*.01:e;return Number.isNaN(+o)?0:+o},ce=e=>{if(!e||typeof window>"u")return{width:0,height:0};const s=e.getBoundingClientRect(),{width:o,height:r}=window.getComputedStyle(e);return{width:V(`${o}`,s.width),height:V(`${r}`,s.height)}},ue=e=>{const[s,o]=p.useState({width:0,height:0}),r=()=>{const{width:a,height:h}=ce(e.current);o({width:a,height:h})};return p.useEffect(()=>r(),[e.current]),[s,r]},fe=(e,s=!0)=>{p.useEffect(()=>{const o=()=>e();return s&&o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[])},be=Y({"0%":{backgroundPosition:"200% 0"},to:{backgroundPosition:"-200% 0"}}),he=S("div",{opacity:0,margin:"0 auto",position:"relative",overflow:"hidden",maxWidth:"100%",transition:"transform 250ms ease 0ms, opacity 200ms ease-in 0ms","@motion":{transition:"none"},variants:{ready:{true:{opacity:1},false:{opacity:0}}}}),me=S("img",{size:"100%",display:"block"}),pe=S("div",{position:"absolute",top:0,left:0,right:0,bottom:0,size:"100%",borderRadius:"inherit",backgroundImage:"linear-gradient(270deg, $colors$accents1, $colors$accents2, $colors$accents2, $colors$accents1)",backgroundSize:"400% 100%",animation:`${be} 5s ease-in-out infinite`,transition:"opacity 300ms ease-out"}),M=R.memo(({opacity:e,css:s,className:o,...r})=>c.jsx(pe,{className:F("nextui-image-skeleton",o),css:{opacity:e,...s},...r}));M.toString=()=>".nextui-image-skeleton";const ge=B(M,{opacity:.5,className:""}),_=R.forwardRef((e,s)=>{const{src:o,width:r,height:a,showSkeleton:h=!0,className:g,maxDelay:f=3e3,autoResize:$=!1,objectFit:x="scale-down",containerCss:t,css:u,...d}=e,n=L(s),[w,l]=p.useState(!0),[v,P]=p.useState(h),{w:C,h:i}=p.useMemo(()=>({w:r?typeof r=="number"?`${r}px`:r:"auto",h:a?typeof a=="number"?`${a}px`:a:"auto"}),[r,a]),[y,b,E]=se(i),[k,m]=ue(n),A=h&&!!r&&!!a;p.useEffect(()=>{n.current&&n.current.complete&&(l(!1),P(!1))}),p.useEffect(()=>{const T=setTimeout(()=>{A&&P(!1),clearTimeout(T)},f);return()=>clearTimeout(T)},[w]),p.useEffect(()=>{if(!$)return;const T=k.width===0,z=E.current==="auto";!T&&r&&a&&(k.width<r?!z&&b("auto"):z&&b(i))},[k,r]),fe(()=>{$&&m()});const D=p.useMemo(()=>w?"loading":"ready",[w]);return c.jsxs(he,{className:F("nextui-image-container",`nextui-image--${D}`,g),css:{width:C,height:y,...t},"data-state":D,ready:!w||v,children:[v&&c.jsx(ge,{opacity:1}),c.jsx(me,{ref:n,alt:e.alt||"",className:"nextui-image",css:{objectFit:x,...u},"data-state":D,height:a,src:o,width:r,onLoad:()=>{l(!1)},...d})]})});_.toString=()=>".nextui-image";const $e=R.memo(_),W=e=>`calc(${15.25*e}pt + 1px * ${e-1})`,xe=S("div",{width:"100%",maxWidth:"100%",position:"relative",variants:{color:{default:{bg:"$border"},primary:{bg:"$primary"},secondary:{bg:"$secondary"},success:{bg:"$success"},warning:{bg:"$warning"},error:{bg:"$error"}}},defaultVariants:{color:"default"}}),we=S("span",{position:"absolute",left:"50%",top:"50%",minHeight:"100%",display:"inline-flex",jc:"center",ai:"center",transform:"translate(-50%, -50%)",padding:"0 $lg",fontSize:"$base",fontWeight:"bold",textTransform:"capitalize",backgroundColor:"$background",zIndex:"$1",variants:{color:{default:{color:"$text"},primary:{color:"$primary"},secondary:{color:"$secondary"},success:{color:"$success"},warning:{color:"$warning"},error:{color:"$error"}}}}),Q=({height:e,x:s,y:o,align:r,children:a,textColor:h,css:g,...f})=>{const $=p.useMemo(()=>{if(r&&r!=="center")return r==="left"||r==="start"?{transform:"translateY(-50%)",left:"7%"}:{transform:"translateY(-50%)",left:"auto",right:"7%"}},[r]),x=o?W(o/2):0,t=s?W(s/2):0;return c.jsx(xe,{css:{margin:`${x} ${t}`,height:`calc(${e} * 1px)`,...g},role:"separator",...f,children:a&&c.jsx(we,{className:"nextui-divider-text",color:h,css:{...$},children:a})})};Q.toString=()=>".nextui-divider";const ye=R.memo(Q),ve=B(ye,{x:0,y:0,height:1,align:"center"}),Se=e=>{const{ref:s,disableAnimation:o=!1,disableRipple:r=!1,variant:a="shadow",isHoverable:h=!1,borderWeight:g="light",isPressable:f=!1,onClick:$,onPress:x,autoFocus:t,allowTextSelectionOnPress:u=!0,...d}=e,n=L(s),{onClick:w,...l}=ie(!1,n),v=m=>{o||r||!n.current||w(m)},{isPressed:P,pressProps:C}=G({isDisabled:!f,onPress:m=>{m.pointerType!=="keyboard"&&m.pointerType!=="virtual"||(v(m),$==null||$(m)),x==null||x(m)},allowTextSelectionOnPress:u,...d}),{hoverProps:i,isHovered:y}=U({isDisabled:!h,...d}),{isFocusVisible:b,focusProps:E}=J({autoFocus:t});C.onClick=m=>{f&&(v(m),$==null||$(m))};const k=p.useCallback((m={})=>({...K(f?{...C,...E}:{},h?i:{},d,m)}),[f,h,C,E,i,d]);return{cardRef:n,variant:a,borderWeight:g,isPressable:f,isHovered:y,isPressed:P,disableAnimation:o,disableRipple:r,dripBindings:l,onDripClickHandler:w,isFocusVisible:b,getCardProps:k}},Pe=S("div",{d:"flex",w:"100%",h:"auto",flex:"1 1 auto",fd:"column",jc:"inherit",ai:"inherit",ac:"inherit",py:"$lg",px:"$sm",oy:"auto",position:"relative",ta:"left"}),Ce=S("div",{$$cardColor:"$colors$backgroundContrast",$$cardTextColor:"$colors$text",m:0,p:0,br:"$lg",bg:"$$cardColor",color:"$$cardTextColor",position:"relative",display:"flex",overflow:"hidden",fd:"column",width:"100%",height:"auto",boxSizing:"border-box","@motion":{transition:"none"},".nextui-image":{width:"100%"},[`& ${ne}`]:{zIndex:"$1",".nextui-drip-filler":{opacity:.25,fill:"$accents6"}},variants:{variant:{flat:{bg:"$accents0"},shadow:{dropShadow:"$lg","@safari":{boxShadow:"$lg",dropShadow:"none"},"@-moz-document url-prefix()":{boxShadow:"$lg",dropShadow:"none"}},bordered:{borderStyle:"solid",borderColor:"$border"}},borderWeight:{light:{bw:"$light"},normal:{bw:"$normal"},bold:{bw:"$bold"},extrabold:{bw:"$extrabold"},black:{bw:"$black"}},disableAnimation:{true:{transition:"none"},false:{transition:"$card"}},isPressable:{true:{cursor:"pointer",us:"none",WebkitTapHighlightColor:"transparent"}},isPressed:{true:{}},isHovered:{true:{dropShadow:"$lg","@safari":{boxShadow:"$lg",dropShadow:"none"},"@-moz-document url-prefix()":{boxShadow:"$lg",dropShadow:"none"}}}},compoundVariants:[{isPressed:!0,disableAnimation:!1,css:{transform:"scale(0.97)"}},{isHovered:!0,disableAnimation:!1,css:{transform:"translateY(-2px)"}},{isHovered:!0,variant:"shadow",css:{dropShadow:"$xl","@safari":{boxShadow:"$xl",dropShadow:"none"},"@-moz-document url-prefix()":{boxShadow:"$xl",dropShadow:"none"}}}]},X,Z),je=S("div",{w:"100%",display:"flex",flexShrink:0,zIndex:"$1",jc:"flex-start",ai:"center",overflow:"hidden",color:"inherit",p:"$sm"}),ke=S("div",{w:"100%",h:"auto",p:"$sm",d:"flex",ai:"center",overflow:"hidden",color:"inherit",bblr:"$lg",bbrr:"$lg",variants:{isBlurred:{true:{bf:"saturate(180%) blur(10px)",bg:"$$cardColor"}}}}),q=R.forwardRef(({...e},s)=>{const{as:o,css:r,children:a,...h}=e,{cardRef:g,variant:f,isFocusVisible:$,isPressable:x,isPressed:t,disableAnimation:u,disableRipple:d,borderWeight:n,isHovered:w,getCardProps:l,dripBindings:v}=Se({...h,ref:s});return c.jsxs(Ce,{ref:g,as:o,borderWeight:n,css:r,disableAnimation:u,isFocusVisible:$,isHovered:w,isPressable:x,isPressed:t,role:x?"button":"region",tabIndex:x?0:-1,variant:f,...l(),children:[x&&!u&&!d&&c.jsx(ae,{...v}),a]})});q.toString=()=>".nextui-card";const j=q;j.Header=je,j.Body=Pe,j.Footer=ke,j.Image=$e,j.Divider=ve;function O(e){var r;const s=ee();function o(){e.metadata?s(`compare/${e.metadata.id}`):s("compare/new")}return c.jsx(N,{children:c.jsx(j,{onClick:o,isPressable:!0,css:{w:"inherit",h:"inherit",$$cardColor:e.metadata?"$colors$primary":"$colors$secondary"},children:c.jsx(j.Body,{children:c.jsx(N,{css:{display:"flex",w:"$50",h:"$50",maxH:"$100",maxW:"$100",wordWrap:"break-word"},children:c.jsx(re,{color:"white",h4:!0,children:((r=e.metadata)==null?void 0:r.title)||"New Comparison"})})})})})}var H={exports:{}};const Re=te(de);(function(e,s){(function(o,r){r(s,Re,p)})(oe,function(o,r,a){function h(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var g=h(a);function f(t,u,d){var n,w;typeof t=="function"?(n=u||[],w=d):(n=[],w=u);var l=g.default.useRef({hasResult:!1,result:w,error:null}),v=g.default.useReducer(function(i){return i+1},0);v[0];var P=v[1],C=g.default.useMemo(function(){var i=typeof t=="function"?t():t;if(!i||typeof i.subscribe!="function")throw t===i?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!l.current.hasResult&&typeof window<"u"&&(typeof i.hasValue!="function"||i.hasValue()))if(typeof i.getValue=="function")l.current.result=i.getValue(),l.current.hasResult=!0;else{var y=i.subscribe(function(b){l.current.result=b,l.current.hasResult=!0});typeof y=="function"?y():y.unsubscribe()}return i},n);if(g.default.useDebugValue(l.current.result),g.default.useEffect(function(){var i=C.subscribe(function(y){var b=l.current;(b.error!==null||b.result!==y)&&(b.error=null,b.result=y,b.hasResult=!0,P())},function(y){var b=l.current;b.error!==y&&(b.error=y,P())});return typeof i=="function"?i:i.unsubscribe.bind(i)},n),l.current.error)throw l.current.error;return l.current.result}function $(t,u,d){return f(function(){return r.liveQuery(t)},u||[],d)}function x(t,u,d){if(!t)throw new TypeError("Invalid arguments to usePermissions(): undefined or null");var n;if(arguments.length>=3){if(!("transaction"in t))throw new TypeError("Invalid arguments to usePermission(db, table, obj): 1st arg must be a Dexie instance");if(typeof u!="string")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 2nd arg must be string");if(!d||typeof d!="object")throw new TypeError("Invalid arguments to usePermission(db, table, obj): 3rd arg must be an object");n=t}else{if(t instanceof r.Dexie)throw new TypeError("Invalid arguments to usePermission(db, table, obj): Missing table and obj arguments.");if(typeof t.table=="function"&&typeof t.db=="object")n=t.db,d=t,u=t.table();else throw new TypeError("Invalid arguments to usePermissions(). Expected usePermissions(entity: DexieCloudEntity) or usePermissions(db: Dexie, table: string, obj: DexieCloudObject)")}if(!("cloud"in n))throw new Error("usePermissions() is only for Dexie Cloud but there's no dexie-cloud-addon active in given db.");if(!("permissions"in n.cloud))throw new Error("usePermissions() requires a newer version of dexie-cloud-addon. Please upgrade it.");return f(function(){return n.cloud.permissions(d,u)},[d.realmId,d.owner,u])}o.useLiveQuery=$,o.useObservable=f,o.usePermissions=x,Object.defineProperty(o,"__esModule",{value:!0})})})(H,H.exports);var Ee=H.exports;function Ie(){const e=Ee.useLiveQuery(()=>le.comparisons.toArray());return console.log(e),c.jsxs(I.Container,{gap:1,children:[c.jsx(I,{children:c.jsx(O,{})}),e==null?void 0:e.map(s=>c.jsx(I,{children:c.jsx(O,{metadata:{id:s.id,title:s.data.title}})},s.id||p.useId()))]})}export{Ie as default};
